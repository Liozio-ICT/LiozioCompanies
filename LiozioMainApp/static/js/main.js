$(function(){"use strict";gsap.registerPlugin(ScrollTrigger,ScrollSmoother,ScrollToPlugin);let e=document.querySelectorAll(".mil-up");e.forEach(e=>{gsap.fromTo(e,{opacity:0,y:60,scale:.96,ease:"sine"},{y:0,opacity:1,scale:1,scrollTrigger:{trigger:e,toggleActions:"play none none reverse"}})});let i=document.querySelectorAll(".mil-scale-img");i.forEach(e=>{var i=$(e).data("value-1"),l=$(e).data("value-2");gsap.fromTo(e,{ease:"sine",scale:i},{scale:l,scrollTrigger:{trigger:e,scrub:!0,toggleActions:"play none none reverse"}})});let l=$(".mil-counter");l.each(function(e,i){var l=$(this),t={val:0},a=l.data("number"),r=(a+"").split("."),o=r.length>1?r[1].length:0;gsap.to(t,{val:a,duration:1.8,scrollTrigger:{trigger:i,toggleActions:"play none none reverse"},onUpdate:function(){l.text(t.val.toFixed(o))}})});var t=$("#mil-btt");$(window).scroll(function(){$(window).scrollTop()>300?t.addClass("mil-show"):t.removeClass("mil-show")}),t.on("click",function(e){e.preventDefault(),$("html, body").animate({scrollTop:0},"300")}),ScrollTrigger.create({start:"top -30",end:99999,toggleClass:{className:"mil-scroll",targets:".mil-top-panel-frame , .mil-navigation"}}),$(".mil-menu-btn").on("click",function(){$(".mil-menu-btn , .mil-navigation , .mil-content").toggleClass("mil-active")}),new Swiper(".mil-iconbox",{slidesPerView:1,spaceBetween:30,autoplay:{delay:5e3},speed:800,breakpoints:{992:{slidesPerView:2},1200:{slidesPerView:3}}}),new Swiper(".mil-projects-1",{parallax:!0,slidesPerView:1,spaceBetween:30,speed:800,navigation:{prevEl:".mil-slider-nav .mil-prev",nextEl:".mil-slider-nav .mil-next"}}),new Swiper(".mil-projects-2",{slidesPerView:1,spaceBetween:30,autoplay:{delay:5e3},speed:800,initialSlide:1}),new Swiper(".mil-projects-3",{slidesPerView:1,spaceBetween:30,speed:800}),new Swiper(".mil-projects-4",{parallax:!0,slidesPerView:1,spaceBetween:30,speed:800,navigation:{prevEl:".mil-slider-nav .mil-prev",nextEl:".mil-slider-nav .mil-next"}});let a=gsap.utils.toArray(".mil-accordion-group"),r=gsap.utils.toArray(".mil-accordion-menu"),o=a.map(function e(i){let l=i.querySelector(".mil-accordion-menu"),t=i.querySelector(".mil-accordion-content"),a=i.querySelector(".mil-accordion-content p"),r=i.querySelector(".mil-accordion-icon"),o=i.querySelector(".mil-accordion-icon i");gsap.set(t,{height:"auto",ease:"sine"}),gsap.set(a,{opacity:1,ease:"sine"}),gsap.set(o,{rotate:180});let n=gsap.timeline().from(t,{onStart:function(){$(r).addClass("mil-active")},height:0}).from(a,{opacity:0},"-=.2").from(o,{rotate:90},0).reverse();return function(e){e===l?(n.reversed(!n.reversed()),$(r).removeClass("mil-active")):(n.reverse(),$(r).removeClass("mil-active"))}});r.forEach(e=>{e.addEventListener("click",()=>{var i;return i=e,void o.forEach(e=>e(i))})}),$(".has-popup-video").magnificPopup({disableOn:700,type:"iframe",iframe:{patterns:{youtube_short:{index:"youtu.be/",id:"youtu.be/",src:"https://www.youtube.com/embed/%id%?autoplay=1"}}},removalDelay:160,preloader:!1,fixedContentPos:!1,mainClass:"mfp-fade",callbacks:{markupParse:function(e,i,l){e.find("iframe").attr("allow","autoplay")}}})});